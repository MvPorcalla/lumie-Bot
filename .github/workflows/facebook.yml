name: 🤖 LumieBot Auto Poster

on:
  schedule:
    # Philippine Time (UTC+8) → GitHub uses UTC time
    - cron: '0 23 * * *'   # 7:00 AM PHT
    - cron: '0 4 * * *'    # 12:00 PM PHT
    - cron: '0 10 * * *'   # 6:00 PM PHT
    
  workflow_dispatch:      # Allow manual run from Actions tab

jobs:
  lumiebot:
    name: 🔁 Post Daily Quotes (LumieBot)
    runs-on: ubuntu-latest

    steps:
      - name: 📥 Checkout lumieBot repo
        uses: actions/checkout@v3

      - name: 🐍 Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.x'

      - name: 📦 Install Python dependencies
        run: |
          python -m pip install --upgrade pip
          pip install python-dotenv requests

      - name: 🤖 Run LumieBot post script
        env:
          LUMIE_PAGE_ID: ${{ secrets.LUMIE_PAGE_ID }}
          LUMIE_PAGE_ACCESS_TOKEN: ${{ secrets.LUMIE_PAGE_ACCESS_TOKEN }}
        run: python lumieBot.py
